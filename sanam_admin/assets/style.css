    :root{
      --brand:#4d2c12; --ink:#000; --muted:#ccc; --paper:#fff; --field:#fdf4e8;
      --page-padding:20mm;      /* حاشية داخلية للصفحات غير الغلاف */
      --rows-per-page:40;       /* تقدير مبدئي (سنستخدم قياسًا ديناميكيًا) */
    }

    html,body{
      margin:0; padding:0; height:100%;
      background:var(--paper); color:var(--ink);
      font-family:'Cairo',sans-serif;
      -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
      -webkit-print-color-adjust:exact; print-color-adjust:exact;
    }

    .app{min-height:100vh; display:flex; flex-direction:column;}
    .toolbar{
      position:sticky; top:0; z-index:1000;
      display:flex; justify-content:center; gap:12px; padding:12px;
      background:linear-gradient(to bottom, rgba(0,0,0,.04), rgba(0,0,0,0));
      backdrop-filter:blur(4px);
    }
    .toolbar button{
      padding:10px 20px; font-size:16px; background:var(--brand); color:#fff;
      border:0; border-radius:10px; cursor:pointer;
    }

    .content{width:min(1200px,100%); margin:0 auto; padding:16px; box-sizing:border-box;}
    .card{background:#fff; border:1px solid var(--muted); border-radius:14px; box-shadow:0 4px 20px rgba(0,0,0,.04); padding:18px; margin-bottom:16px;}
    .header{display:flex; justify-content:space-between; align-items:center; border-bottom:2px solid #eee; padding-bottom:10px; margin-bottom:10px;}
    .header img{height:90px;}
    h1,h2{text-align:center; color:var(--brand); margin:8px 0;}
    .input-grid{display:grid; grid-template-columns:repeat(auto-fit,minmax(260px,1fr)); gap:12px 16px; align-items:end;}
    .input-line label{font-weight:700; display:block; margin-bottom:4px;}
    input[type="text"],input[type="date"]{
      width:100%; border:1px solid #ddd; background:var(--field); font-size:16px;
      padding:8px 10px; border-radius:10px; box-sizing:border-box;
    }
    .cover-config{display:grid; grid-template-columns:1fr; gap:8px;}
    table{width:100%; border-collapse:collapse; table-layout:fixed;}
    th,td{border:1px solid #ddd; padding:6px; text-align:center; font-size:12px; word-wrap:break-word; word-break:break-word; white-space:pre-wrap;}
    .muted{color:#666;}
    .print-only{display:none;}

 /* ===================== الطباعة A4 ===================== */
/* ===================== الطباعة A4 ===================== */
@page { size: A4; margin: 0; }

@media print{
  /* exact A4 canvas */
  html, body{
    margin: 0 !important;
    width: 210mm; height: 291mm;
    overflow: visible;
    -webkit-print-color-adjust: exact;
    print-color-adjust: exact;
	
	
	/* 1) Hide first column (timestamp) only in print */
.table-page table th:first-child,
.table-page table td:first-child{
  display: none !important;
}

/* 2) Header background color (#CC9D79) + readable text */
.table-page table thead th{
  background: #CC9D79 !important;
  color: #fff !important;
  -webkit-print-color-adjust: exact;
  print-color-adjust: exact;
}

/* 3) Tables edge-to-edge, RTL, from page 3+ (table pages) */
#printRoot > .print-page.table-page .page-content{
  /* keep vertical padding, remove horizontal so table touches page edges */
  padding-right: 8mm !important;
  padding-left:  8mm !important;
}

/* If you show a <h2> title on the first page of each table, keep it inside margins */
#printRoot > .print-page.table-page .page-content > h2{
  padding-inline: var(--page-padding);
  margin-top: var(--page-padding);
  margin-bottom: 6mm;
}

/* Make the table itself RTL and full width */
#printRoot > .print-page.table-page table{
  direction: rtl;
  width: 100%;
  margin: 0;
  border-collapse: collapse;
  table-layout: fixed;
}

	
	
	  .second-page .page-content p {
    margin: 3px 0;          /* smaller gap above/below */
    line-height: 1.5;       /* tighter line spacing */
  }

  .second-page .page-content strong {
    display: inline-block;
    min-width: 80px;        /* optional: align labels neatly */
  }
	
  }

  /* hide screen UI */
  .toolbar, .card.screen-only, .screen-only{ display: none !important; }
  .print-only{ display: block !important; }

  /* one physical page, centered (no after-breaks) */
  .print-page{
    display: block;
    position: relative;
    box-sizing: border-box;
    width: 210mm; height: 291mm;
    margin: 0 auto;
    padding: 0;                 /* padding only on .page-content */
    break-after: auto;          /* no trailing blank page */
    page-break-after: auto;
    overflow: hidden;
    background: #fff;
    transform: scale(1);
    transform-origin: top left;
  }

  
  
 /* no trailing breaks on any page */
.print-page{
  break-after: auto;
  page-break-after: auto;
}

/* start a new sheet ONLY from the 3rd page onward */
.print-page:nth-child(n+3){
  break-before: page;
  page-break-before: always;
}
  
  
  /* page inner box */
  .print-page .page-content{
    padding: var(--page-padding);
    box-sizing: border-box;
    width: 100%; max-width: 100%;
    overflow-x: hidden;
  }

  /* tables & media */
  table{ width:100%; border-collapse:collapse; table-layout:fixed; page-break-inside:auto; break-inside:auto; }
  thead{ display: table-header-group !important; }
  tfoot{ display: table-footer-group !important; }
  tbody{ display: table-row-group; }
  th, td{
    font-size: 12px; border: 1px solid #ccc;
    word-break: break-word; white-space: pre-wrap;
    page-break-inside: avoid; break-inside: avoid;
  }
  img{ max-width:100%; height:auto; }



 /* Make sure the section itself never overflows a page */
  .cover-page,
  .second-page {
    position: relative;
    height: 291mm;
    overflow: hidden;                 /* clip anything fractional */
    background: none !important;      /* real image goes on ::before */
  }

  /* Cover image as a non-layout layer */
  .cover-page::before {
    content: "";
    position: absolute;
    inset: 0;                         /* fill the page */
    /* tiny epsilon so rounding can't spill to next page */
    height: calc(100% - 0.2mm);
    width: calc(100% - 0.2mm);
    left: 0; top: 0;
    margin: 0;
    background-color: #fdf4e8;        /* your light brown behind transparency */
    background-image: url('cover-page1.png');
    background-repeat: no-repeat;
    background-position: center center;
    background-size: 210mm 288mm;     /* your chosen size */
    pointer-events: none;
  }

  /* Second page image the same way */
  .second-page::before {
    content: "";
    position: absolute;
    inset: 0;
    height: calc(100% - 0.2mm);
    width: calc(100% - 0.2mm);
    background-color: #fdf4e8;        /* light brown behind transparency */
    background-image: url('cover-page2.png');
    background-repeat: no-repeat;
    background-position: center center;
    background-size: 210mm 288mm;     /* your chosen size */
    pointer-events: none;
  }
  /* from page 3 onward: light-brown background */
#printRoot > .print-page:nth-child(n+3){
  background-color: #fdf4e8 !important;  /* same tone as --field */
}

/* === Page 3+ : add Sanam logo in the header === */
#printRoot > .print-page:nth-child(n+3)::after{
  content: "";
  position: absolute;
  top: 10mm;
  right: var(--page-padding);         /* put it inside the same inner margin */
  width: 45mm;                        /* tweak to your liking */
  height: 28mm;
  background: url('logo_sanam.png') no-repeat center / contain;
  -webkit-print-color-adjust: exact;
  print-color-adjust: exact;
}

/* give content room so it doesn't overlap the logo */
#printRoot > .print-page:nth-child(n+3) .page-content{
  padding-top: calc(var(--page-padding) + 18mm);
}


/* keep the content boxes transparent so the page color shows through */
#printRoot > .print-page:nth-child(n+3) .page-content{
  background: transparent !important;
}


  /* Any overlay content on the cover stays above the image layer */
  .cover-page > *,
  .second-page > * { position: relative; z-index: 1; }
}

  /* table pages: extra white space at bottom */
  .table-page .page-content{
    padding-bottom: calc(var(--page-padding) + 20mm);
  }

  /* links */
  a[href]{ color: blue; text-decoration: underline; }
  a[href]::after{ content: " (" attr(href) ")"; font-size: 8px; }
}

